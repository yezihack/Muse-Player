# Muse Desktop - 快速开始

## 📋 安装步骤

### 1️⃣ 安装 Node.js

确保您的系统已安装 Node.js (推荐 v16 或更高版本)

检查版本：

```bash
node --version
npm --version
```

### 2️⃣ 安装项目依赖

在项目目录下运行：

```bash
npm install
```

这将安装以下依赖：

- `electron` - 桌面应用框架
- `better-sqlite3` - SQLite 数据库

### 3️⃣ 启动应用

**开发模式**（带开发者工具）：

```bash
npm run dev
```

**生产模式**：

```bash
npm start
```

## 打包

```sh
npm run dist:win
```

## 🎯 使用指南

### 导入音乐

**方法1：添加文件夹**

1. 点击左侧 `+ Add Folder` 按钮
2. 选择包含音乐文件的文件夹
3. 文件夹会被记录到数据库中

**方法2：直接导入文件**

1. 点击右上角 `+ Import` 按钮
2. 选择一个或多个音频文件
3. 支持格式：MP3, WAV, OGG, FLAC, M4A, AAC

### 播放控制

#### 基础操作

- **播放/暂停**: 点击中央圆形按钮 或 按 `空格键`
- **上一曲**: 按 `P` 键
- **下一曲**: 按 `N` 键
- **进度调整**: 拖动进度条

#### 快速跳转

- **后退15秒**: 点击左侧撤销按钮 或 按 `←` 键
- **前进15秒**: 点击右侧重做按钮 或 按 `→` 键

### 音量控制

- **调节音量**: 拖动右下角音量滑块
- **快速调节**: 
  - 按 `↑` 键增加5%
  - 按 `↓` 键减少5%
- **静音**: 点击音量图标 或 按 `M` 键

### AB 循环

循环播放歌曲的某个片段（例如学习某段旋律）：

1. 播放到想要循环的起始位置
2. 按 `A` 键设置 A 点（按钮会高亮）
3. 播放到结束位置
4. 按 `B` 键设置 B 点
5. 自动开始 A-B 循环播放

**取消循环**: 切换到下一首或重新加载歌曲

### 倒计时停止

适合睡前听音乐：

1. 点击文件夹区域右侧的时钟图标 或 按 `T` 键
2. 选择倒计时时长（10/20/30/60分钟）
3. 倒计时会显示剩余时间
4. 时间到达后自动暂停播放

**取消倒计时**: 点击面板中的"取消"按钮

### 播放模式

点击右上角的模式按钮切换：

1. **📋 List Loop** - 列表循环播放
2. **🔁 Single Loop** - 单曲循环
3. **🔀 Shuffle** - 随机播放
4. **⚡ Taste Mode** - 尝鲜模式（每首歌随机播放20秒高潮片段）

### 收藏歌曲

- 点击歌曲标题右侧的 ❤️ 图标
- 收藏的歌曲会在播放列表中显示小心心
- 收藏状态保存在数据库中

### 可视化效果

点击左上角下拉菜单切换：

- **📊 Spectrum** - 频谱柱状图
- **〰️ Wave** - 波形图
- **🧿 Radial** - 径向效果（开发中）

## ⌨️ 完整快捷键列表

| 按键 | 功能 |
|------|------|
| `空格` | 播放/暂停 |
| `P` | 上一曲 |
| `N` | 下一曲 |
| `←` | 后退15秒 |
| `→` | 前进15秒 |
| `↑` | 音量+5% |
| `↓` | 音量-5% |
| `M` | 静音切换 |
| `A` | 设置AB循环的A点 |
| `B` | 设置AB循环的B点 |
| `T` | 打开/关闭倒计时面板 |

## 💡 使用技巧

1. **批量导入**: 可以一次选择多个音频文件导入
2. **播放统计**: 每首歌的播放次数会自动记录
3. **数据持久化**: 所有数据保存在 SQLite 数据库中，关闭应用后不会丢失
4. **键盘优先**: 几乎所有操作都有对应的键盘快捷键

## 🔧 常见问题

### Q: 应用无法启动？

**A**: 确保已正确安装 Node.js 和项目依赖 (`npm install`)

### Q: 音频文件无法播放？

**A**: 

- 检查文件格式是否支持
- 确保文件路径有效
- 在 Electron 环境中使用绝对路径

### Q: 数据库文件在哪里？

**A**: 

- Windows: `%APPDATA%/muse-desktop/muse.db`
- macOS: `~/Library/Application Support/muse-desktop/muse.db`
- Linux: `~/.config/muse-desktop/muse.db`

### Q: 如何重置所有数据？

**A**: 删除上述数据库文件，重启应用即可

### Q: 浏览器中能用吗？

**A**: 可以在浏览器中打开 index.html，但文件夹管理等功能需要 Electron 环境

## 📞 获取帮助

如遇到问题或有功能建议，欢迎反馈！

---

**享受您的音乐之旅！🎵**
